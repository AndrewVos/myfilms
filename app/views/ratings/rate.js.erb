(function () {
  var movieId = '<%= @movie_id %>'
  var value = '<%= @value %>'
  var $actions = $('.actions[data-id="' + movieId + '"]')
  var $glyphs = $actions.find('.star button span.glyphicon')
  var $wantToWatch = $actions.find('.want-to-watch')

  for (var i = 0; i < $glyphs.length; i++) {
    var $glyph = $($glyphs[i])
    var currentValue = i + 1

    $glyph.removeClass('glyphicon-star-empty')
    $glyph.removeClass('glyphicon-star')

    if (currentValue <= value) {
      $glyph.addClass('glyphicon-star')
    } else {
      $glyph.addClass('glyphicon-star-empty')
    }
  }
})()
